<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//DE">

<html>
  <head>
    <meta name="generator" content="HTML Tidy, see www.w3.org">

    <title>Ressourcen</title>
    <meta http-equiv="Content-Language" content="de-DE">
    <meta http-equiv="Content-Type" content=
    "text/html; charset=iso-8859-1">
    <meta name="keywords" content=
    "Magellan, Dokumentation, Eressea, PbeM, JavaClient">
    <meta name="description" content="Magellan Dokumentation">
    <meta name="AUTHOR" content="rb@behme.space.net">
    <link rel="stylesheet" href="../../default.css" type=
    "text/css">
  </head>

  <body>
    <a name="top"></a> <!-- Inhalt -->
     

    <h1>Ressourcen</h1>

    <p>Hier wird erl&auml;utert, wie man Magellan um
    zus&auml;tzliche Features erweitert und die mitgelieferten
    Standarddateien austauscht, um beispielsweise alternative
    Grafiken zu verwenden oder zur Anpassung an ein anderes
    PBeM.</p>

    <h2>Wie setze ich eine Ressourcenpfad?</h2>

    <p>Um Plug-Ins, Grafiksets etc. in Magellan einzubinden,
    muessen sie in einen Ressourcenpfad aufgenommen werden. Dazu
    ruft man die Optionen &uuml;ber das Men&uuml; Extras auf,
    w&auml;hlt den Reiter 'Ressourcen' und klickt auf 'Neuer
    Pfad...'. Nun erscheint ein Dateiauswahldialog, in dem nur noch
    die betreffende JAR oder ZIP Datei (oder das entsprechende
    Verzeichnis) angegeben werden muss.</p>

    <p>Um die &Auml;nderungen wirksam werden zu lassen, muss
    Magellan neu gestartet werden.</p>

    <h2>Plug-Ins</h2>

    <p>Einige Funktionen von Magellan sind nicht in der
    Standardversion enthalten, dennoch kann sie nachger&uuml;stet
    werden. Als Beispiel seien hier die Skinnable Look&amp;Feels
    angef&uuml;hrt.</p>

    <p>Um die Skins nutzen k&ouml;nnen, ben&ouml;tigt Magellan
    zus&auml;tzliche Java-Klassen, die diese Funktionalit&auml;t
    bieten. Sie sind in der Datei skinlf.jar enthalten, von der
    Magellan aber zun&auml;chst nichts weiss. Erst indem man in
    Magellan in den Optionen die Datei skinlf.jar als einen neuen
    Ressourcenpfad anlegt, kann Magellan die neuen Klassen finden
    und nutzen (siehe auch <a href=
    "../menus/extras/options_system.html">Optionen/System</a>).</p>

    <h2>Ver&auml;nderbare Objekte</h2>

    <p>Folgende Elemente, sogenannte Ressourcen, lassen sich in
    Magellan anpassen:</p>

    <ul>
      <li>Alle Icons, die in den baumartigen Anzeigen auftauchen
      (z.B. Talente)</li>

      <li>Die Grafiken, die f&uuml;r die Darstellung der Regionen
      und anderer Objekte auf der Karte verwendet werden</li>

      <li>Die Regeldatei, die grundlegende Informationen &uuml;ber
      ein Spiel enth&auml;lt (z.B. die Rekrutierungskosten jeder
      Rasse)</li>
    </ul>
    <br>
    <br>
     

    <h2>Verzeichnisstruktur</h2>

    <p>Alle Ressourcen liegen je nach Verwendungszweck in einem
    bestimmten Verzeichnis:</p>

    <ul>
      <li>about: betrifft den Info Dialog von Magellan</li>

      <li>images: enth&auml;lt Icons und Kartengrafiken</li>

      <li>lang: enth&auml;lt die sprachabh&auml;ngigen
      &Uuml;bersetzungstabellen</li>

      <li>rules: enth&auml;lt die Regeldateien</li>
    </ul>
    <br>
    <br>
     

    <p>Wenn man eigene Ressourcen f&uuml;r Magellan erstellt, ist
    es notwendig, dass sie im jeweils richtigen Verzeichnis
    untergebracht sind, damit Magellan sie finden kann.</p>

    <h2>Ressourcenpfade</h2>

    <p>Im Normalfall findet Magellan alle notwendigen Ressourcen in
    der Datei magellen.jar selbst. Es w&auml;re jedoch sehr
    unpraktisch, wenn man diese Datei ver&auml;ndern m&uuml;sste,
    um eigene Ressourcen zu verwenden. Deshalb ist es m&ouml;glich,
    Ressourcenpfade anzugeben, die der Reihe nach und zwar vor den
    Inhalten der jar Datei nach den Ressourcen durchsucht
    werden.</p>

    <p>Die Ressourcenpfade kann man in Magellan in den Optionen
    hinzuf&uuml;gen, l&ouml;schen oder editieren (Men&uuml; Extras,
    Optionen, Reiter 'Ressourcen'). Ressourcenpfade m&uuml;ssen
    nicht unbedingt Verzeichnisse sein, sie k&ouml;nnen auch auf
    eine URL im Internet verweisen oder in eine JAR Datei
    zeigen.</p>

    <p>Soll beispielsweise das Icon f&uuml;r das Reiten-Talent
    ausgetauscht werden, legt man die Datei reiten.gif im
    Verzeichnis C:\Ressourcen\images\icons ab und gibt Magellan den
    neuen Ressourcenpfad C:\Ressourcen. Da Magellan nun nach der
    Datei 'images\icons\reiten.gif' sucht, beginnt es bei den
    Ressourcenpfaden, in diesem Fall C:\Ressourcen, und findet die
    Datei, indem der Ressourcenpfad und der Dateiname mit den
    Unterverzeichnissen aneinandergeh&auml;ngt werden.</p>

    <p>Die genaue Ladereihenfolge von Ressourcen ist wie folgt:</p>

    <ol>
      <li>Ressourcenpfade der Reihe nach</li>

      <li>Im aktuellen Verzeichnis (in der Regel das Verzeichnis,
      in dem sich auch die Datei magellan.ini befindet) das
      Unterverzeichnis 'res'</li>

      <li>Laden per SystemClassLoader, was im wesentlichen
      bedeutet, dass die in der CLASSPATH Umgebungsvariable
      angegebenen Verzeichnisse und JAR Dateien durchsucht
      werden</li>

      <li>Laden per SystemClassLoader mit vorangestelltem res
      Verzeichnis, was die Resource, falls vorhanden, in der JAR
      Datei finden sollte, aus der heraus Magellan ausgef&uuml;hrt
      wird</li>
    </ol>
    <br>
    <br>
     

    <p>Anhand dieser Ladereihenfolge ist ersichtlich, dass man neue
    Ressourcen auch ohne die Angabe eines Ressourcenpfades
    einbinden kann, indem man sie einfach im gleichen Verzeichnis
    wie Magellan selbst speichert (die Verzeichnisstruktur f&uuml;r
    die jeweilge Resource, z.B. images/icons muss nat&uuml;rlich
    eingehalten werden). Diese Verzeichnisstruktur kann man
    herausfinden, indem man das Magellan.jar in Magellan.zip
    umbenennt und entpackt.</p>

    <h2>Grafiksets</h2>

    <p>Auf der Seite zum <a href=
    "graphicsets_making.html">Erstellen von eigenen Grafiksets</a>
    finden sich ebenfalls Informationen zu den
    Ressourcenpfaden.</p>
    <!-- Inhalt - Ende -->
  </body>
</html>

